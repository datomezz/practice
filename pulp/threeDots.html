<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byte</title>

    <style>
        *{
            box-sizing: border-box;
            margin: 0;
            padding : 0;

        }
        .container{
            display: flex;
            flex-direction : row;
            flex-wrap : wrap;
            justify-content: space-between;
            margin : 1rem;
        }
        .post{
            margin : .5rem 0;
            width: 20rem;
            height: 25rem;
            border : 1px solid #000;
            overflow: hidden;
        }
        img{
            width: 100%;
            height : 12rem;
        }
        .text__area{
            padding: .3rem 1rem;
        }
        .title{
            font-size : 2rem;
        }
    </style>

</head>
<body>
    <div class="container">
        <div class="post">
            <img src="https://picsum.photos/536/354" alt="img">
            <div class="text__area">
                <a href="#" class="title">Lorem ipsum dolor sit.</a>
                <p class="text">38 ducimus illo explicabo 
                    tempora illum soluta dolores, sunt facere quod expedita a, obcaecati eius eaque ut omnis ullam rerum. Eum modi eos eligendi architecto 
                    laboriosam magnam debitis error maiores dolore, praesentium quam ab iusto. Aspernatur, explicabo distinctio, esse recusandae, vitae quibusdam 
                    aliquid quasi rerum nulla odit eos! error maiores dolore, praesentium quam ab iusto. Aspernatur, explicabo distinctio, esse recusandae, vitae quibusdam 
                    aliquid quasi rerum nulla odit eos! error maiores dolore, praesentium quam ab iusto. Aspernatur, explicabo distinctio, esse recusandae, vitae quibusdam 
                    aliquid quasi rerum nulla odit eos! </p>
            </div>
        </div>
        <div class="post">
            <img src="https://picsum.photos/536/354" alt="img">
            <div class="text__area">
                <a href="#" class="title">Lorem ipsum dolor sit.</a>
                <p class="text">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Illo iste omnis praesentium itaque hic dolore natus quae commodi rem, animi voluptate autem nihil ullam distinctio laboriosam beatae, voluptatem ab quam.Aperiam ducimus eius a quae nemo tenetur voluptates iure facilis illo, corporis reiciendis ad vero suscipit beatae repellat! Exercitationem quibusdam, et eveniet unde assumenda autem est optio amet nemo incidunt?</p>
            </div>
        </div>
        <div class="post">
            <img src="https://picsum.photos/536/354" alt="img">
            <div class="text__area">
                <a href="#" class="title">Lorem ipsum dolor sit.</a>
                <p class="text">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus reiciendis saepe enim rem? Magnam ad, perferendis veritatis et ipsa accusantium voluptatum numquam quos vitae iusto tempore quaerat aut eligendi deserunt.
                Dolor excepturi quae voluptatibus tempore mollitia odio iure. Quibusdam iusto ea vel omnis voluptas cupiditate alias officiis dolor. Doloremque molestiae provident rerum quam enim esse dolores sit labore tempora dolore.
                Adipisci aliquam culpa dignissimos neque sed temporibus ipsa natus ea accusantium doloremque! Quas sapiente facilis aliquid accusamus maxime magnam voluptates, ea inventore, voluptas, numquam eum optio? Vel ullam quod modi!
                Obcaecati explicabo ut vero optio accusamus placeat vel, dicta sunt eius tempora quasi tenetur exercitationem! Unde, aliquam ullam suscipit ducimus quaerat temporibus nam quibusdam amet perferendis error consectetur ut rerum.</p>
            </div>
        </div>
        <div class="post">
            <img src="https://picsum.photos/536/354" alt="img">
            <div class="text__area">
                <a href="#" class="title">Lorem ipsum dolor sit.</a>
                <p class="text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate omnis eveniet voluptates veniam harum animi, nisi amet illo corporis assumenda aliquid libero molestias consequatur repellendus exercitationem labore rerum voluptatibus cumque. Illum, praesentium voluptatum. Minus incidunt corrupti maiores. Porro sequi odit ex ipsam laborum? Ratione placeat quia tempora vitae nam, cumque recusandae pariatur dolor aliquid sunt officia enim illum impedit explicabo maxime ea dicta rerum harum hic. Quo dolore quas distinctio doloribus possimus sapiente, fugiat impedit culpa soluta. Asperiores eos pariatur aperiam unde soluta doloremque nisi, temporibus inventore ut, autem molestiae quae iusto esse in repudiandae eius facere veritatis doloribus perferendis! </p>
            </div>
        </div>
    </div>

    <script>
        let text = document.querySelectorAll(".text");
        let title = document.querySelector(".title");

        function threeDot(str){
            let strText = str;
            strText = strText.innerText;
            let sibling = str.previousElementSibling.offsetHeight;
            let parent = str.parentNode.offsetHeight;

            let currentWidth = str.clientWidth;
            let sum = (currentWidth / 17) * ((parent - sibling) / 30);

            if(sum < strText.length){
                strText = strText.split("").reverse().join("");
                strText = strText.slice(strText.length - sum);
                strText = strText.split("").reverse().join("");
                str.innerText = strText + "...";
            } 
            
            
        }
        window.addEventListener("load", function(){
            for(let i = 0; i < text.length; i++){
                threeDot(text[i]);
            }
        });

    </script>
</body>
</html>